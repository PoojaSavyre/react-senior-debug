import{r as i,j as e}from"./vendor-react-BShjbBE1.js";import{S as u,b as S,c as C}from"./index-Dx8A60Sx.js";import{g as m}from"./shared-services-ARmQ2z6X.js";import"./vendor-router-BBek9TLU.js";const k={login:"ðŸ”‘",update:"âœï¸",deploy:"ðŸš€",review:"ðŸ‘€",comment:"ðŸ’¬"},w=i.memo(function({activities:s}){return!s||s.length===0?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"No recent activity"}):e.jsxs("div",{style:{padding:"20px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[e.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",color:"#111827"},children:"Recent Activity"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:s.map((t,n)=>e.jsxs("div",{style:{display:"flex",gap:"12px",padding:"10px 0",borderBottom:n<s.length-1?"1px solid #f3f4f6":"none"},children:[e.jsx("span",{style:{fontSize:"16px"},children:k[t.action]||"ðŸ“Œ"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"14px",color:"#1f2937",textTransform:"capitalize"},children:t.action}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:t.details})]}),e.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",whiteSpace:"nowrap"},children:new Date(t.timestamp).toLocaleTimeString()})]},t.id))})]})}),c=new Map;function z(o){const s=String(o);if(c.has(s)){const n=c.get(s);if(n.data)return n.data;throw n.promise}const t={data:null,promise:null};throw t.promise=m(`/users/${o}`).then(n=>{t.data=n}).catch(n=>{throw c.delete(s),n}),c.set(s,t),t.promise}function R({userId:o}){var n,r,l;const t=z(o).data;return e.jsxs("div",{children:[e.jsxs("div",{style:{padding:"24px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"600",color:"#6b7280"},children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"20px",color:"#111827"},children:t.name}),e.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:t.email}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"6px"},children:[e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",backgroundColor:"#eff6ff",color:"#1d4ed8",fontSize:"12px"},children:t.role}),e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",backgroundColor:t.status==="active"?"#f0fdf4":"#f9fafb",color:t.status==="active"?"#166534":"#6b7280",fontSize:"12px"},children:t.status})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[e.jsx(h,{label:"Tasks Completed",value:((n=t.metrics)==null?void 0:n.tasksCompleted)||0}),e.jsx(h,{label:"Avg Response",value:`${((r=t.metrics)==null?void 0:r.avgResponseTime)||0}ms`}),e.jsx(h,{label:"Satisfaction",value:`${((l=t.metrics)==null?void 0:l.satisfactionScore)||0}/5`})]})]}),e.jsx(u,{suspenseKey:`activity-${o}`,fallback:e.jsx(S,{height:"200px"}),level:"section",children:e.jsx(w,{activities:t.activity||[]})})]})}function h({label:o,value:s}){return e.jsxs("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:s}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"2px"},children:o})]})}const p=new Map;function U(o,s){const t=`${o}-${s}`;if(p.has(t)){const r=p.get(t);if(r.data)return r.data;throw r.promise}const n={data:null,promise:null};throw n.promise=m(`/users?page=${o}&limit=10&search=${encodeURIComponent(s)}`).then(r=>{n.data=r}).catch(r=>{throw p.delete(t),r}),p.set(t,n),n.promise}function T({page:o,search:s,onSelectUser:t}){const n=U(o,s),r=(n==null?void 0:n.data)||[],l=(n==null?void 0:n.pagination)||{};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[r.map(a=>e.jsx($,{user:a,onSelect:t},a.id)),r.length===0&&e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"No users found"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",padding:"16px 0",fontSize:"13px"},children:e.jsxs("span",{style:{color:"#6b7280"},children:["Page ",l.page," of ",l.totalPages," (",l.total," users)"]})})]})}const $=i.memo(function({user:s,onSelect:t}){return e.jsxs("div",{onClick:()=>t(s.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"border-color 0.1s"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"600",color:"#6b7280"},children:s.name.charAt(0)}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:"500",color:"#111827",fontSize:"14px"},children:s.name}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:s.email})]}),e.jsx("span",{style:{padding:"3px 10px",borderRadius:"12px",backgroundColor:"#f3f4f6",fontSize:"12px",color:"#4b5563"},children:s.role})]})}),A=i.memo(function(){const[s,t]=i.useState(1),[n,r]=i.useState(""),[l,a]=i.useState(""),[x,f]=i.useState(null),g=i.useCallback(()=>{i.startTransition(()=>{r(l),t(1)})},[l]),j=i.useCallback(d=>{f(d)},[]),v=i.useCallback(()=>{f(null)},[]),y=i.useCallback(d=>{i.startTransition(()=>{t(d)})},[]);return x?e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("button",{onClick:v,style:{padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer",marginBottom:"16px",fontSize:"13px",color:"#374151"},children:"â† Back to list"}),e.jsx(u,{suspenseKey:x,level:"section",children:e.jsx(R,{userId:x})})]}):e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"24px",color:"#111827"},children:"Users"}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[e.jsx("input",{type:"text",value:l,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&g(),placeholder:"Search users...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),e.jsx("button",{onClick:g,style:{padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"Search"})]}),e.jsx(u,{suspenseKey:`${s}-${n}`,fallback:e.jsx(C,{count:10}),level:"section",children:e.jsx(T,{page:s,search:n,onSelectUser:j})}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"12px"},children:[e.jsx("button",{onClick:()=>y(Math.max(1,s-1)),disabled:s===1,style:b,children:"Previous"}),e.jsx("button",{onClick:()=>y(s+1),style:b,children:"Next"})]})]})}),b={padding:"6px 14px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer",fontSize:"13px",color:"#374151"};function D(){return e.jsx(A,{})}export{D as default};
//# sourceMappingURL=UsersPage-C8uuMQLS.js.map
