import{r as i,j as e}from"./vendor-react-BShjbBE1.js";import{S as u,b as S,c as C}from"./index-BatblRAa.js";import{g as m}from"./shared-services-ARmQ2z6X.js";import"./vendor-router-BBek9TLU.js";const k={login:"ðŸ”‘",update:"âœï¸",deploy:"ðŸš€",review:"ðŸ‘€",comment:"ðŸ’¬"},w=i.memo(function({activities:r}){return!r||r.length===0?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"No recent activity"}):e.jsxs("div",{style:{padding:"20px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[e.jsx("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",color:"#111827"},children:"Recent Activity"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:r.map((t,s)=>e.jsxs("div",{style:{display:"flex",gap:"12px",padding:"10px 0",borderBottom:s<r.length-1?"1px solid #f3f4f6":"none"},children:[e.jsx("span",{style:{fontSize:"16px"},children:k[t.action]||"ðŸ“Œ"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:"14px",color:"#1f2937",textTransform:"capitalize"},children:t.action}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:t.details})]}),e.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",whiteSpace:"nowrap"},children:new Date(t.timestamp).toLocaleTimeString()})]},t.id))})]})}),p=new Map;function z(o){const r=String(o);if(p.has(r)){const s=p.get(r);if(s.data)return s.data;throw s.error?s.error:s.promise}const t={data:null,error:null,promise:null};throw t.promise=m(`/users/${o}`).then(s=>{t.data=s}).catch(s=>{t.error=s}),p.set(r,t),t.promise}function R({userId:o}){var s,n,l;const t=z(o).data;return e.jsxs("div",{children:[e.jsxs("div",{style:{padding:"24px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"600",color:"#6b7280"},children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"20px",color:"#111827"},children:t.name}),e.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:t.email}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"6px"},children:[e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",backgroundColor:"#eff6ff",color:"#1d4ed8",fontSize:"12px"},children:t.role}),e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",backgroundColor:t.status==="active"?"#f0fdf4":"#f9fafb",color:t.status==="active"?"#166534":"#6b7280",fontSize:"12px"},children:t.status})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[e.jsx(x,{label:"Tasks Completed",value:((s=t.metrics)==null?void 0:s.tasksCompleted)||0}),e.jsx(x,{label:"Avg Response",value:`${((n=t.metrics)==null?void 0:n.avgResponseTime)||0}ms`}),e.jsx(x,{label:"Satisfaction",value:`${((l=t.metrics)==null?void 0:l.satisfactionScore)||0}/5`})]})]}),e.jsx(u,{suspenseKey:`activity-${o}`,fallback:e.jsx(S,{height:"200px"}),level:"section",children:e.jsx(w,{activities:t.activity||[]})})]})}function x({label:o,value:r}){return e.jsxs("div",{style:{padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:r}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"2px"},children:o})]})}const h=new Map;function U(o,r){const t=`${o}-${r}`;if(h.has(t)){const n=h.get(t);if(n.data)return n.data;throw n.error?n.error:n.promise}const s={data:null,error:null,promise:null};throw s.promise=m(`/users?page=${o}&limit=10&search=${encodeURIComponent(r)}`).then(n=>{s.data=n}).catch(n=>{s.error=n}),h.set(t,s),s.promise}function T({page:o,search:r,onSelectUser:t}){const s=U(o,r),n=(s==null?void 0:s.data)||[],l=(s==null?void 0:s.pagination)||{};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[n.map(a=>e.jsx($,{user:a,onSelect:t},a.id)),n.length===0&&e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"No users found"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",padding:"16px 0",fontSize:"13px"},children:e.jsxs("span",{style:{color:"#6b7280"},children:["Page ",l.page," of ",l.totalPages," (",l.total," users)"]})})]})}const $=i.memo(function({user:r,onSelect:t}){return e.jsxs("div",{onClick:()=>t(r.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"border-color 0.1s"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"600",color:"#6b7280"},children:r.name.charAt(0)}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:"500",color:"#111827",fontSize:"14px"},children:r.name}),e.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:r.email})]}),e.jsx("span",{style:{padding:"3px 10px",borderRadius:"12px",backgroundColor:"#f3f4f6",fontSize:"12px",color:"#4b5563"},children:r.role})]})}),A=i.memo(function(){const[r,t]=i.useState(1),[s,n]=i.useState(""),[l,a]=i.useState(""),[c,f]=i.useState(null),g=i.useCallback(()=>{i.startTransition(()=>{n(l),t(1)})},[l]),j=i.useCallback(d=>{f(d)},[]),v=i.useCallback(()=>{f(null)},[]),y=i.useCallback(d=>{i.startTransition(()=>{t(d)})},[]);return c?e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("button",{onClick:v,style:{padding:"6px 12px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer",marginBottom:"16px",fontSize:"13px",color:"#374151"},children:"â† Back to list"}),e.jsx(u,{suspenseKey:c,level:"section",children:e.jsx(R,{userId:c})})]}):e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"24px",color:"#111827"},children:"Users"}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[e.jsx("input",{type:"text",value:l,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&g(),placeholder:"Search users...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),e.jsx("button",{onClick:g,style:{padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"Search"})]}),e.jsx(u,{suspenseKey:`${r}-${s}`,fallback:e.jsx(C,{count:10}),level:"section",children:e.jsx(T,{page:r,search:s,onSelectUser:j})}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"12px"},children:[e.jsx("button",{onClick:()=>y(Math.max(1,r-1)),disabled:r===1,style:b,children:"Previous"}),e.jsx("button",{onClick:()=>y(r+1),style:b,children:"Next"})]})]})}),b={padding:"6px 14px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",cursor:"pointer",fontSize:"13px",color:"#374151"};function D(){return e.jsx(A,{})}export{D as default};
//# sourceMappingURL=UsersPage-DGV0bs7A.js.map
