{"version":3,"file":"heavyUtils-BuSosStS.js","sources":["../../src/utils/heavyUtils.js"],"sourcesContent":["/**\r\n * Heavy utility module â€” loaded via dynamic import() for code splitting.\r\n *\r\n * Competency: Bundle Optimization Strategies\r\n * Bug surface: incorrect code splitting, missing lazy loading, oversized vendor bundles,\r\n *              tree shaking failures (unused exports should be stripped)\r\n */\r\n\r\n/**\r\n * Compute a simple checksum for the given data string.\r\n * This simulates a \"heavy\" utility that shouldn't be in the main bundle.\r\n */\r\nexport function computeChecksum(data) {\r\n  let hash = 0;\r\n  for (let i = 0; i < data.length; i++) {\r\n    const char = data.charCodeAt(i);\r\n    hash = ((hash << 5) - hash) + char;\r\n    hash = hash & hash; // Convert to 32-bit integer\r\n  }\r\n  return `CHK-${Math.abs(hash).toString(16).toUpperCase()}`;\r\n}\r\n\r\n/**\r\n * Deep clone an object using structured clone algorithm.\r\n */\r\nexport function deepClone(obj) {\r\n  if (typeof structuredClone === 'function') {\r\n    return structuredClone(obj);\r\n  }\r\n  return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\n/**\r\n * Debounce function with leading/trailing options.\r\n */\r\nexport function debounce(fn, delay, options = {}) {\r\n  const { leading = false, trailing = true } = options;\r\n  let timer = null;\r\n  let lastArgs = null;\r\n\r\n  const debounced = (...args) => {\r\n    lastArgs = args;\r\n\r\n    if (leading && !timer) {\r\n      fn(...args);\r\n    }\r\n\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      if (trailing && lastArgs) {\r\n        fn(...lastArgs);\r\n      }\r\n      timer = null;\r\n      lastArgs = null;\r\n    }, delay);\r\n  };\r\n\r\n  debounced.cancel = () => {\r\n    clearTimeout(timer);\r\n    timer = null;\r\n    lastArgs = null;\r\n  };\r\n\r\n  return debounced;\r\n}\r\n\r\n/**\r\n * Format bytes to human-readable string.\r\n */\r\nexport function formatBytes(bytes) {\r\n  if (bytes === 0) return '0 B';\r\n  const sizes = ['B', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n  return `${(bytes / Math.pow(1024, i)).toFixed(1)} ${sizes[i]}`;\r\n}\r\n\r\n/**\r\n * Generate a UUID v4.\r\n */\r\nexport function generateUUID() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n    const r = (Math.random() * 16) | 0;\r\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\n/**\r\n * This function is intentionally never imported by any component.\r\n * Tree shaking should remove it from the production bundle.\r\n * Bug surface: if tree shaking fails, this 10KB string stays in the bundle.\r\n */\r\nexport function unusedHeavyFunction() {\r\n  const payload = 'x'.repeat(10000);\r\n  return payload.split('').reverse().join('');\r\n}\r\n"],"names":["computeChecksum","data","hash","i","char","deepClone","obj","debounce","fn","delay","options","leading","trailing","timer","lastArgs","debounced","args","formatBytes","bytes","sizes","generateUUID","c","r","unusedHeavyFunction"],"mappings":"AAYO,SAASA,EAAgBC,EAAM,CACpC,IAAIC,EAAO,EACX,QAASC,EAAI,EAAGA,EAAIF,EAAK,OAAQE,IAAK,CACpC,MAAMC,EAAOH,EAAK,WAAWE,CAAC,EAC9BD,GAASA,GAAQ,GAAKA,EAAQE,EAC9BF,EAAOA,EAAOA,CAChB,CACA,MAAO,OAAO,KAAK,IAAIA,CAAI,EAAE,SAAS,EAAE,EAAE,YAAW,CAAE,EACzD,CAKO,SAASG,EAAUC,EAAK,CAC7B,OAAI,OAAO,iBAAoB,WACtB,gBAAgBA,CAAG,EAErB,KAAK,MAAM,KAAK,UAAUA,CAAG,CAAC,CACvC,CAKO,SAASC,EAASC,EAAIC,EAAOC,EAAU,CAAA,EAAI,CAChD,KAAM,CAAE,QAAAC,EAAU,GAAO,SAAAC,EAAW,EAAI,EAAKF,EAC7C,IAAIG,EAAQ,KACRC,EAAW,KAEf,MAAMC,EAAY,IAAIC,IAAS,CAC7BF,EAAWE,EAEPL,GAAW,CAACE,GACdL,EAAG,GAAGQ,CAAI,EAGZ,aAAaH,CAAK,EAClBA,EAAQ,WAAW,IAAM,CACnBD,GAAYE,GACdN,EAAG,GAAGM,CAAQ,EAEhBD,EAAQ,KACRC,EAAW,IACb,EAAGL,CAAK,CACV,EAEA,OAAAM,EAAU,OAAS,IAAM,CACvB,aAAaF,CAAK,EAClBA,EAAQ,KACRC,EAAW,IACb,EAEOC,CACT,CAKO,SAASE,EAAYC,EAAO,CACjC,GAAIA,IAAU,EAAG,MAAO,MACxB,MAAMC,EAAQ,CAAC,IAAK,KAAM,KAAM,IAAI,EAC9BhB,EAAI,KAAK,MAAM,KAAK,IAAIe,CAAK,EAAI,KAAK,IAAI,IAAI,CAAC,EACrD,MAAO,IAAIA,EAAQ,KAAK,IAAI,KAAMf,CAAC,GAAG,QAAQ,CAAC,CAAC,IAAIgB,EAAMhB,CAAC,CAAC,EAC9D,CAKO,SAASiB,GAAe,CAC7B,MAAO,uCAAuC,QAAQ,QAAUC,GAAM,CACpE,MAAMC,EAAK,KAAK,OAAM,EAAK,GAAM,EAEjC,OADUD,IAAM,IAAMC,EAAKA,EAAI,EAAO,GAC7B,SAAS,EAAE,CACtB,CAAC,CACH,CAOO,SAASC,GAAsB,CAEpC,MADgB,IAAI,OAAO,GAAK,EACjB,MAAM,EAAE,EAAE,UAAU,KAAK,EAAE,CAC5C"}